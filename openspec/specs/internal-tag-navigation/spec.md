# internal-tag-navigation

## Purpose
メタデータモーダルに表示されるタグ（作者、ジャンル等）をクリックした際に、外部サイトへ遷移するのではなく、ビューア内の検索モーダルを使用して関連作品を素早く見つけるための内部ナビゲーション機能を定義します。

## Requirements

### Requirement: タグベースの内部検索起動
システムは、メタデータモーダル内のタグがクリックされた際、外部サイトへ遷移するのではなく、そのタグを条件とした内部検索を実行しなければならない（SHALL）。検索開始時には以前の結果をクリアし、入力フォームの状態を適切に管理しなければならない。

#### Scenario: タグクリックによる検索実行
- **WHEN** ユーザーがメタデータモーダル内のタグチップをクリックした時
- **THEN** メタデータモーダルが閉じ、検索モーダルが表示される
- **AND** クリックされたタグのURL（または識別子）に基づいて内部検索が開始される

#### Scenario: タグクリックによる検索実行時のクリーンアップ
- **WHEN** ユーザーがメタデータモーダル内のタグチップをクリックした時
- **THEN** 検索モーダルが表示される前に `searchResults` が `null` にクリアされ、ローディング状態となる
- **AND** 検索モーダルのキーワード入力フォームが空の状態で表示される（前回の入力キーワードに上書きされない）

### Requirement: 検索コンテキストの識別と表示
システムは、実行中の検索が「キーワード検索」なのか「タグ/ジャンル検索」なのかを識別し、UI上でそのコンテキストをユーザーに示さなければならない（SHALL）。

#### Scenario: タグ検索時のコンテキスト表示
- **WHEN** タグをクリックして検索が開始された時
- **THEN** 検索結果のヘッダーに「Tag: [タグ名]」のような形式で検索条件が表示される

#### Scenario: ジャンル検索時のコンテキスト表示
- **WHEN** ジャンルタグをクリックして検索が開始された時
- **THEN** 検索結果のヘッダーに「Genre: [ジャンル名]」のような形式で検索条件が表示される
