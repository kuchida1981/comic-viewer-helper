## 1. 調査とデバッグ

- [ ] 1.1 `toggleDualView` および `fitImagesToViewport` にデバッグログを追加し、切り替え時の `currentIndex` と `alignIndex` の値を確認する
- [ ] 1.2 `getCurrentPageIndex` が、微妙なスクロール位置でどちらのページを返すか検証する

## 2. ロジック修正

- [ ] 2.1 `fitImagesToViewport` 内のペアリング判定ロジックを修正し、`alignmentIndex` が指定された場合、その前の画像とのペアリングを確実に回避するだけでなく、その画像から新しいペアが開始されることを保証する
- [ ] 2.2 必要に応じて `getCurrentPageIndex` の判定ロジックを微調整する（ビューポート中心判定が厳しすぎる場合の緩和など）

## 3. 動作確認

- [ ] 3.1 単一ページ（偶数/奇数ページ）から見開きへの切り替えを行い、現在ページが右側に表示されることを確認する
- [ ] 3.2 見開き表示から単一ページに戻し、再度別のページで見開きにする等の操作を行い、動作が一貫していることを確認する
