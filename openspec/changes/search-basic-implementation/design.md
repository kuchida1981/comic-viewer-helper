## Context

現在のツールバーには作品情報（MetadataModal）やヘルプ（HelpModal）を表示する機能がありますが、サイト内検索へのアクセス手段がありません。本デザインでは、これらと同様のモーダル形式で検索インターフェースを導入し、拡張性と一貫性を確保します。

## Goals / Non-Goals

**Goals:**
- ツールバーからワンクリックで呼び出せる検索モーダルの実装。
- サイトごとに異なる検索パラメータやURL構造をアダプターで吸収する設計。
- 将来的なインクリメンタルサーチや検索結果表示（Step 2-4）を見据えたコンポーネント構成。

**Non-Goals:**
- このステップでは、GUI内での検索結果表示は行わない（リダイレクトのみ）。
- 複雑な検索フィルター（日付指定など）の実装はスコープ外。

## Decisions

### 1. 検索モーダルの実装方式
`MetadataModal.ts` をモデルにした `SearchModal.ts` を新設します。
- **理由**: 将来的に検索結果（画像サムネイルやタイトル）をリスト表示する必要があるため、ツールバー内に直接 `input` を置くよりも、十分な表示領域を確保できるモーダル形式が適しています。
- **代替案**: ツールバー内のインライン入力。省スペースですが、検索結果を表示する場所がなく、将来的な拡張性が低いため不採用。

### 2. SiteAdapter の拡張
`src/types.ts` に検索用の設定とメソッドを追加します。
- **searchConfig**: 検索機能の有効フラグ、ベースURL、クエリパラメータ名を持つオブジェクト。
- **getSearchUrl(query: string)**: クエリ文字列を受け取り、最終的な検索URLを返すメソッド。
- **理由**: サイトによってはパスにキーワードを含める形式（例: `/search/keyword`）や、複数のパラメータが必要な場合があるため、URL生成ロジックをアダプターに委譲します。

### 3. Store による状態管理
`StoreState` に `isSearchModalOpen` を追加し、`UIManager` でモーダルの表示・非表示を制御します。
- **理由**: 他のモーダルと同様のパターンを踏襲することで、コードの整合性とテストのしやすさを維持します。

## Risks / Trade-offs

- **[Risk] 入力フォームのアクセシビリティ** → **[Mitigation]** モーダル表示時に自動的に `input` 要素に `focus()` を当て、即座にタイピングを開始できるようにします。
- **[Trade-off] 遷移の発生** → Step 1 ではリダイレクトを行うため、現在の閲覧状態が中断されます。これは Step 2 の「GUI内表示」で解決されるまでの一時的な制約であることをユーザーに明示（またはプレースホルダで示唆）します。
