# Proposal: 内部検索機能のUI/UX改善

## Problem
内部タグ検索機能の導入により、以下の3点のUI/UX上の課題が発生している。
1. **チラつき**: タグクリック時、新しい結果がロードされるまで前回の検索結果が一瞬表示される。
2. **入力欄の不整合**: タグ検索開始時に、前回入力したキーワードが入力欄に残っている。
3. **意図しない初期値**: タグ検索後にモーダルを再表示すると、タグ名がキーワード入力欄にセットされている。

## Proposed Change
「ユーザーが入力したキーワード (`searchQuery`)」と「現在アクティブな検索条件 (`searchContext`)」の扱いを明確に分離する。

1. **検索開始時のクリーンアップ**: `_performSearch` の開始時に `searchResults` を `null` にリセットする。
2. **searchQuery の純粋化**: タグによる検索（artist, genre 等を含む全てのメタデータ検索）時には `searchQuery` を更新しない。
3. **入力欄の表示制御**: 検索モーダルの入力欄には、現在の検索コンテキストが `keyword` である場合のみ `searchQuery` を表示し、それ以外（タグ検索時）は空にする。

## Impact
- **UXの向上**: ロード中の古い情報の露出を防ぎ、清潔感のあるUIを提供する。
- **直感的な操作**: 自分で入力した単語と、クリックしたタグが混同されず、ユーザーの期待に沿ったフォームの挙動となる。
- **検索への復帰**: タグ検索中も「最後に入力したキーワード」が保持されるため、キーワード検索への切り替えがスムーズになる。
