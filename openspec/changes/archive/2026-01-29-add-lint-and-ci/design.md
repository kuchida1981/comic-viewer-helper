## コンテキスト

現在のプロジェクトは単一の `comic-viewer-helper.user.js` ファイルで構成されており、ビルドプロセスや静的解析ツールが導入されていません。今後のメンテナンス性を考慮し、標準的な JavaScript の静的解析環境を導入する必要があります。

## ゴール / 非ゴール

**ゴール:**
- ESLint による静的解析の導入。
- Tampermonkey 固有の環境に対応した設定。
- GitHub Actions による Pull Request 時の自動チェック。

**非ゴール:**
- TypeScript への移行（今回は見送り）。
- バンドラ（esbuild, webpack 等）の導入（単一ファイル構成を維持）。

## 設計上の決定事項

### 1. ESLint (フラット設定) の採用
最新の ESLint (v9+) を採用し、`eslint.config.mjs` を使用したフラット設定を導入します。

- **理由**: 将来の拡張性と最新のプラグインエコシステムを利用するため。
- **代替案**: 旧来の `.eslintrc.js`。ESLint v9 以降では非推奨に向かっているため採用せず。

### 2. globals ライブラリの使用
`globals` パッケージを使用して、`browser` および `greasemonkey` (Tampermonkeyと互換) のグローバル変数を定義します。

- **理由**: 全ての `GM_` 関数を個別に手動定義する手間を省き、標準的な定義を利用するため。

### 3. CI 実行タイミングの限定
`pull_request` イベントのみでジョブを実行します。

- **理由**: 開発ブランチへの頻繁なプッシュによる CI 実行コスト（リソースと時間）を抑え、マージの品質保証に集中するため。

## リスク / トレードオフ

- **[リスク] 現状のコードに大量の警告が出る可能性がある**
  - → **対策**: 初回導入時は一部の厳しすぎるルールを `warn` に留めるか、必要に応じて無効化し、段階的に修正する。
- **[リスク] ローカルの Node.js バージョン依存**
  - → **対策**: `package.json` の `engines` フィールドで推奨バージョンを明示し、GitHub Actions では安定版の Node.js を使用する。
