## MODIFIED Requirements

### Requirement: サイトアダプターインターフェースの定義
システムは、特定のサイト構造に依存しないよう、サイトごとの差異（セレクタ、要素取得ロジック等）を吸収するための共通インターフェース（サイトアダプター）を定義しなければならない（SHALL）。

**アダプターが提供する機能:**
- URLに対する適合判定
- サイト固有のセレクタ/取得ロジック
- メタデータ抽出時のタグ種別判定
- **検索用URLの生成ロジック**

#### Scenario: サイト適合判定
- **WHEN** ページが読み込まれた時
- **THEN** 各アダプターが現在のURLに適合するかを判定し、適切なアダプターが選択されること

#### Scenario: サイト固有セレクタの提供
- **WHEN** アプリケーションが画像コンテナや画像要素を特定する必要がある時
- **THEN** 選択されたアダプターから提供されるサイト固有のセレクタが使用されること

#### Scenario: サイト固有の画像取得ロジック
- **WHEN** 標準的なセレクタのみでは画像取得が困難なサイトにおいて画像を取得する時
- **THEN** アダプターが提供する独自の取得ロジック（関数等）が実行されること

#### Scenario: タグ種別の判定
- **WHEN** アダプターがメタデータを抽出する時
- **THEN** 各タグの href を解析し、パスに基づいてタグ種別（type）を判定して返す
- **AND** タグオブジェクトには `type: string | null` プロパティが含まれる

#### Scenario: 検索URLの生成
- **WHEN** 検索キーワード（query）が与えられた時
- **THEN** アダプターはサイトの検索仕様に基づいたURLを生成して返さなければならない
- **AND** デフォルトアダプターでは `searchConfig`（baseUrl, queryParam）を使用してURLを生成する
