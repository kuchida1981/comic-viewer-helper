## MODIFIED Requirements

### Requirement: コアロジックのテスト
システムは、主要な関数やクラス（画像のリサイズ、ページ判定など）に対するテストコードを含まなければならない（MUST）。テストコード内のモック生成は `src/test/mocks/` に提供されるFactory/ユーティリティを利用し、明示的な `any` 型キャストを含まないものとする。

#### Scenario: 型定義を活用したテスト
- **WHEN** テストコードを記述・実行したとき
- **THEN** モック (`vi.mock`, `vi.fn`) やスタブを含め、TypeScript の型定義によって関数の引数や戻り値が静的に検証され、実行時エラーの発生リスクが低減される

#### Scenario: テストコード内に明示的な any が存在しない
- **WHEN** 全テストファイルに対して静的解析を実行する
- **THEN** `any` 型の明示的な使用がゼロであり、モック生成はFactory関数を経由している
