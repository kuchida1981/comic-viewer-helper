# 提案：サイトアダプターパターンの導入とアーキテクチャの再構築

## 課題
`src/main.js` の `App` クラスが「God Object」化しており、DOMイベントの管理から複雑なナビゲーションロジックまで、あらゆる責務を抱えています（Issue #50）。
また、現在は特定のサイト構造（`#post-comic`）に依存したロジックが直接記述されており、ページ構造が異なる他サイトへの展開や、サイトごとの特殊な振る舞いへの対応が困難な状態にあります（Issue #43）。

## 変更内容
「サイトごとの差異（セレクタ、取得ロジック、固有のイベント制御）」を抽象化して吸収する**サイトアダプター（Site Adapter）**というパターンを導入します。同時に `App` クラスを役割ごとのマネージャークラスに分解し、選択されたアダプターに基づいて動作する、拡張性の高いアーキテクチャに再構成します。

## 期待される効果
- **マルチサイト対応の基盤**: 新しいサイトへの対応が、共通インターフェースを実装したアダプターの追加だけで完結するようになります。
- **ロジックの疎結合化**: サイト固有の「癖」をアダプターに閉じ込めることで、本体のナビゲーションロジックの純粋性が保たれます。
- **テストの容易性**: 「特定のアダプター条件下での動作」をシミュレートしやすくなり、ユニットテストの信頼性が向上します。

## スコープ
- サイトアダプターの共通インターフェースの定義。
- 現在の対象サイト用アダプター（`DefaultAdapter`）の実装。
- `App` クラスの分解（`InputManager`, `Navigator`, `UIManager` への委譲）。
- 各マネージャーへのアダプター注入（Dependency Injection）の仕組み導入。

## 非目標 (Non-Goals)
- 既存のレイアウト計算ロジック (`logic.js`) の変更。
- 複数サイトへの同時展開（今回はあくまで「対応可能な構造」への移行を目的とする）。
- ユーザー向け新機能の追加。
