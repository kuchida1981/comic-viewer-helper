# Spec: Resume Notification

復元確認UI（トースト通知）の仕様

## ADDED Requirements

### Requirement: トースト通知を表示できる
システムは、保存された読書位置がある場合、画面下部中央にトースト通知を表示しなければならない（SHALL）。

#### Scenario: 保存位置がある場合に通知を表示
- **WHEN** ページ初期化時に保存された位置（47ページ）が存在する
- **THEN** システムは "47ページから再開しますか?" というメッセージを含むトーストを表示する

#### Scenario: 保存位置がない場合は表示しない
- **WHEN** ページ初期化時に保存された位置が存在しない
- **THEN** システムはトースト通知を表示しない

### Requirement: トースト通知の配置を定義する
システムは、トースト通知を既存UIと干渉しない位置に配置しなければならない（SHALL）。

#### Scenario: 画面下部中央に配置
- **WHEN** トースト通知が表示される
- **THEN** position: fixed, bottom: 10px, left: 50%, transform: translateX(-50%) で配置される

#### Scenario: ProgressBarより上に表示
- **WHEN** トースト通知とProgressBarが同時に存在する
- **THEN** トースト通知の z-index は 10002 で、ProgressBar (10001) より上に表示される

### Requirement: 続きから読む機能を提供する
システムは、「続きから」ボタンをクリックすると保存された位置にジャンプしなければならない（SHALL）。

#### Scenario: 続きからボタンのクリック
- **WHEN** ユーザーが「続きから」ボタンをクリックした
- **THEN** システムは navigator.jumpToPage(savedIndex + 1) を呼び出す（0-based → 1-based 変換）

#### Scenario: 続きからボタンクリック後の通知削除
- **WHEN** ユーザーが「続きから」ボタンをクリックした
- **THEN** システムはトースト通知をDOMから削除する

### Requirement: 最初から読む機能を提供する
システムは、「最初から」ボタンをクリックすると1ページ目から読めるようにしなければならない（SHALL）。

#### Scenario: 最初からボタンのクリック
- **WHEN** ユーザーが「最初から」ボタンをクリックした
- **THEN** システムはページジャンプを行わない（現在の1ページ目のまま）

#### Scenario: 最初からボタンクリック後の通知削除
- **WHEN** ユーザーが「最初から」ボタンをクリックした
- **THEN** システムはトースト通知をDOMから削除する

### Requirement: 通知を閉じる機能を提供する
システムは、×ボタンで通知を閉じられなければならない（SHALL）。

#### Scenario: 閉じるボタンのクリック
- **WHEN** ユーザーが×ボタンをクリックした
- **THEN** システムはトースト通知をDOMから削除し、ページジャンプは行わない

### Requirement: 自動削除機能を提供する
システムは、一定時間経過後またはスクロール開始時に通知を自動削除しなければならない（SHALL）。

#### Scenario: タイムアウトによる自動削除
- **WHEN** トースト通知が表示されてから15秒経過した
- **THEN** システムはトースト通知をDOMから削除する

#### Scenario: スクロール開始による自動削除
- **WHEN** ユーザーがスクロールを開始した
- **THEN** システムはトースト通知をDOMから削除する

#### Scenario: 手動操作後はタイマーをキャンセル
- **WHEN** タイムアウト前にユーザーがボタンをクリックした
- **THEN** システムは自動削除タイマーをキャンセルする

### Requirement: トースト通知のスタイルを定義する
システムは、トースト通知を視認性が高く、操作しやすいスタイルで表示しなければならない（SHALL）。

#### Scenario: 背景と境界線
- **WHEN** トースト通知が表示される
- **THEN** 半透明の背景色とborder-radiusを持つ

#### Scenario: ボタンの配置
- **WHEN** トースト通知が表示される
- **THEN** メッセージとボタンが水平に配置される

#### Scenario: ボタンのホバー状態
- **WHEN** ユーザーがボタンにホバーした
- **THEN** ボタンの背景色が変化する
