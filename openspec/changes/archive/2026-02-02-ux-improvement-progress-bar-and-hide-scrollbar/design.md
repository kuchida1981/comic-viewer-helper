## Context

現在のコミックビューアは、ページ移動やレイアウト（単ページ/見開き）をスクリプト側で完全に制御していますが、ブラウザの標準スクロールバーが表示されたままであり、横方向の表示領域をわずかに圧迫しています。また、GUIのインジケーター以外に、現在の読書位置を直感的に把握する視覚的な手段がありません。

## Goals / Non-Goals

**Goals:**
- プログレスバー（高さ 3px 程度）を画面最下部に表示し、読書進捗を視覚化する。
- スクリプト有効時に `html { overflow: hidden }` を適用し、表示領域を最大化する。
- スクロールバー非表示時でも、ホイールやキーによるナビゲーションが維持されることを保証する。

**Non-Goals:**
- プログレスバーのクリックやドラッグによるページジャンプ機能（今回は表示のみ）。
- 水平スクロールバーの制御（垂直方向のみを対象とする）。

## Decisions

### 1. プログレスバーのコンポーネント化
`src/ui/components/ProgressBar.js` を新規作成し、`UIManager` から制御します。
- **理由**: 他のUIコンポーネント（PageCounter等）と同様のパターンに従い、責務を分離するため。
- **代替案**: `UIManager` 内で直接 DOM を操作する。→ コンポーネント化の方がテストしやすく再利用性が高い。

### 2. スクロールバー非表示化の手法
`html` 要素に `.comic-helper-enabled` クラスを付与し、CSS で `overflow: hidden !important` を適用します。
- **理由**: `body` ではなく `html` に適用することで、一部のブラウザでの挙動を安定させ、スクリプトの `enabled` 状態とCSSを直感的に紐付けるため。
- **実装詳細**: `UIManager.init()` および `updateUI()` 内で `document.documentElement.classList.toggle('comic-helper-enabled', enabled)` を実行。

### 3. プログレスバーの更新タイミング
`Store` の `currentVisibleIndex` を購読し、変更があるたびにバーの幅（`width: (index + 1) / total * 100%`）を更新します。
- **理由**: `Navigator` がすでにビューポート内の画像を判定して `Store` を更新しているため、その既存の仕組みに乗るのが最も効率的であるため。

## Risks / Trade-offs

- **[Risk]** スクロールバーを消すことで、OSやブラウザによってはホイールイベントが発火しにくくなる可能性がある。
  - **Mitigation** 現在の `InputManager` は `window` に対して `wheel` イベントを `passive: false` でリッスンしており、`overflow: hidden` 下でも動作することを確認済みだが、実装後に改めて主要ブラウザで検証する。
- **[Trade-off]** プログレスバーを非常に細く（3px）するため、背景色によっては見えにくい場合がある。
  - **Mitigation** 半透明の黒背景（トラック）の上に、不透明のアクセントカラー（バー）を乗せることで視認性を確保する。
