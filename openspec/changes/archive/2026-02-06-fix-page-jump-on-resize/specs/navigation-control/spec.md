## MODIFIED Requirements

### Requirement: 表示位置の自動追従
ウィンドウサイズが変更された場合や、画像の読み込みによってレイアウトが更新された場合でも、システムは直前に表示されていた画像インデックスを維持し、レイアウト完了後にその画像がビューポート内（可能な限り中央）に表示されるように制御しなければならない（SHALL）。特にレイアウト計算の過渡期において、ページ番号が意図せず変更されることを防がなければならない。

#### Scenario: Resize restoration
- **WHEN** ユーザーがブラウザのウィンドウサイズを変更する
- **THEN** レイアウト更新後、リサイズ前に表示されていた画像が、再度ビューポートの中央に表示されること

#### Scenario: No drift during layout update
- **WHEN** `applyLayout` が実行され、DOMの再構築が行われる
- **THEN** スクロール位置の復元が完了するまで、ページカウンターによるページ番号の自動更新は抑制されるか、無視されること
